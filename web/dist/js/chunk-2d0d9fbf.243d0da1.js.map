{"version":3,"sources":["webpack:///./src/views/system/User.vue?a9ed","webpack:///src/views/system/User.vue","webpack:///./src/views/system/User.vue?0e3d","webpack:///./src/views/system/User.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","flat","height","_v","_s","$t","color","on","click","createUser","append-icon","label","single-line","hide-details","model","value","callback","$$v","search","expression","headers","items","desserts","rows-per-page-text","scopedSlots","_u","key","fn","props","item","uid","staticClass","nickname","login_name","phone","email","create_time","update_time","checkedChildren","unCheckedChildren","change","$event","setState","$set","editUser","placement","okText","cancelText","confirm","resetPwd","slot","persistent","max-width","dialog","ref","grid-list-md","wrap","xs12","rules","required","user","type","roles","item-text","item-value","chips","clearable","multiple","deletable-chips","role_ids","addUser","_e","credential","length","show","click:append","close","createOrUpdateUser","staticRenderFns","Uservue_type_script_lang_js_","data","isCreate","identity","computed","text","align","sortable","methods","init","_this","axios_default","a","all","$api","get","role","then","spread","users","$data","map","v","status","_this2","$notify","success","timeout","_this3","getUserById","_this4","_this5","join","userInfo","Object","assign","_this6","form","keys","forEach","f","indexOf","$refs","reset","created","system_Uservue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","installComponents_default","VAutocomplete","VBtn","VCard","VCardActions","components_VCard","VCardText","VCardTitle","VContainer","VDataTable","VDialog","VFlex","VLayout","VSpacer","VGrid","VTextField","VToolbar","VToolbarTitle","components_VToolbar"],"mappings":"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","file":"js/chunk-2d0d9fbf.243d0da1.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',[_c('v-toolbar',{attrs:{\"flat\":\"\",\"height\":\"64px\"}},[_c('v-toolbar-title',[_vm._v(_vm._s(_vm.$t(\"App.userManager\")))])],1),_c('v-card-title',[_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":_vm.createUser}},[_vm._v(_vm._s(_vm.$t(\"App.createUser\")))]),_c('v-spacer'),_c('v-text-field',{attrs:{\"append-icon\":\"search\",\"label\":_vm.$t('Sys.search'),\"single-line\":\"\",\"hide-details\":\"\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1),_c('v-data-table',{attrs:{\"headers\":_vm.headers,\"items\":_vm.desserts,\"search\":_vm.search,\"rows-per-page-text\":_vm.$t('App.perPageText')},scopedSlots:_vm._u([{key:\"items\",fn:function(props){return [_c('td',[_vm._v(_vm._s(props.item.uid))]),_c('td',{staticClass:\"text-xs-center\"},[_vm._v(_vm._s(props.item.nickname))]),_c('td',{staticClass:\"text-xs-center\"},[_vm._v(_vm._s(props.item.login_name))]),_c('td',{staticClass:\"text-xs-center\"},[_vm._v(_vm._s(props.item.phone))]),_c('td',{staticClass:\"text-xs-center\"},[_vm._v(_vm._s(props.item.email))]),_c('td',{staticClass:\"text-xs-center\"},[_vm._v(_vm._s(props.item.create_time))]),_c('td',{staticClass:\"text-xs-center\"},[_vm._v(_vm._s(props.item.update_time))]),_c('td',{staticClass:\"text-xs-center\"},[_c('a-switch',{attrs:{\"checkedChildren\":_vm.$t('Sys.enable'),\"unCheckedChildren\":_vm.$t('Sys.disable')},on:{\"change\":function($event){return _vm.setState(props)}},model:{value:(props.item.status),callback:function ($$v) {_vm.$set(props.item, \"status\", $$v)},expression:\"props.item.status\"}})],1),_c('td',{staticClass:\"text-xs-center\"},[_c('a-tag',{attrs:{\"color\":\"#108ee9\"},on:{\"click\":function($event){return _vm.editUser(props)}}},[_vm._v(_vm._s(_vm.$t(\"Sys.edit\")))]),_c('a-popconfirm',{attrs:{\"placement\":\"topLeft\",\"okText\":_vm.$t('Sys.yes'),\"cancelText\":_vm.$t('Sys.no')},on:{\"confirm\":function($event){return _vm.resetPwd(props)}}},[_c('template',{slot:\"title\"},[_c('p',[_vm._v(_vm._s(_vm.$t(\"Sys.resetPwdMsg\")))])]),_c('a-tag',{attrs:{\"color\":\"orange\"}},[_vm._v(_vm._s(_vm.$t(\"Sys.resetPwd\")))])],2)],1)]}}])}),_c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"600px\"},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',{ref:\"user\"},[_c('v-card-title',[_c('span',{staticClass:\"headline\"},[_vm._v(_vm._s(_vm.$t(\"App.userProfile\")))])]),_c('v-card-text',[_c('v-container',{attrs:{\"grid-list-md\":\"\"}},[_c('v-layout',{attrs:{\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-text-field',{ref:\"nickname\",attrs:{\"label\":_vm.$t('App.nickname') + '*',\"rules\":[_vm.rules.required]},model:{value:(_vm.user.nickname),callback:function ($$v) {_vm.$set(_vm.user, \"nickname\", $$v)},expression:\"user.nickname\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-text-field',{ref:\"email\",attrs:{\"label\":_vm.$t('App.email') + '*',\"type\":\"email\",\"rules\":[_vm.rules.required]},model:{value:(_vm.user.email),callback:function ($$v) {_vm.$set(_vm.user, \"email\", $$v)},expression:\"user.email\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-text-field',{ref:\"phone\",attrs:{\"label\":_vm.$t('App.phone') + '*',\"type\":\"phone\",\"rules\":[_vm.rules.required]},model:{value:(_vm.user.phone),callback:function ($$v) {_vm.$set(_vm.user, \"phone\", $$v)},expression:\"user.phone\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-autocomplete',{attrs:{\"items\":_vm.roles,\"item-text\":\"role_name\",\"item-value\":\"role_id\",\"label\":_vm.$t('App.role'),\"chips\":\"\",\"clearable\":\"\",\"multiple\":\"\",\"deletable-chips\":\"\",\"required\":\"\"},model:{value:(_vm.role_ids),callback:function ($$v) {_vm.role_ids=$$v},expression:\"role_ids\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"\"}},[(_vm.isCreate)?_c('v-text-field',{ref:\"identity\",attrs:{\"label\":_vm.$t('App.identity') + '*',\"required\":\"\",\"rules\":[_vm.rules.required]},model:{value:(_vm.addUser.identity),callback:function ($$v) {_vm.$set(_vm.addUser, \"identity\", $$v)},expression:\"addUser.identity\"}}):_vm._e()],1),_c('v-flex',{attrs:{\"xs12\":\"\"}},[(_vm.isCreate)?_c('v-text-field',{ref:\"credential\",attrs:{\"label\":_vm.$t('App.credential') + '*',\"rules\":[\n                  _vm.rules.required,\n                  function () { return _vm.addUser.credential.length >= 8 || 'Min 8 characters'; }\n                ],\"append-icon\":_vm.show ? 'visibility' : 'visibility_off',\"type\":_vm.show ? 'text' : 'password'},on:{\"click:append\":function($event){_vm.show = !_vm.show}},model:{value:(_vm.addUser.credential),callback:function ($$v) {_vm.$set(_vm.addUser, \"credential\", $$v)},expression:\"addUser.credential\"}}):_vm._e()],1)],1)],1),_c('small',[_vm._v(_vm._s(_vm.$t(\"Sys.requireMsg\")))])],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"flat\":\"\"},on:{\"click\":_vm.close}},[_vm._v(_vm._s(_vm.$t(\"Sys.close\")))]),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"flat\":\"\"},on:{\"click\":_vm.createOrUpdateUser}},[_vm._v(_vm._s(_vm.$t(\"Sys.save\")))])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-card>\r\n    <v-toolbar flat height=\"64px\">\r\n      <v-toolbar-title>{{ $t(\"App.userManager\") }}</v-toolbar-title>\r\n    </v-toolbar>\r\n    <v-card-title>\r\n      <v-btn color=\"primary\" @click=\"createUser\">{{\r\n        $t(\"App.createUser\")\r\n      }}</v-btn>\r\n      <v-spacer></v-spacer>\r\n      <v-text-field\r\n        v-model=\"search\"\r\n        append-icon=\"search\"\r\n        :label=\"$t('Sys.search')\"\r\n        single-line\r\n        hide-details\r\n      ></v-text-field>\r\n    </v-card-title>\r\n    <v-data-table\r\n      :headers=\"headers\"\r\n      :items=\"desserts\"\r\n      :search=\"search\"\r\n      :rows-per-page-text=\"$t('App.perPageText')\"\r\n    >\r\n      <template v-slot:items=\"props\">\r\n        <td>{{ props.item.uid }}</td>\r\n        <td class=\"text-xs-center\">{{ props.item.nickname }}</td>\r\n        <td class=\"text-xs-center\">{{ props.item.login_name }}</td>\r\n        <td class=\"text-xs-center\">{{ props.item.phone }}</td>\r\n        <td class=\"text-xs-center\">{{ props.item.email }}</td>\r\n        <td class=\"text-xs-center\">{{ props.item.create_time }}</td>\r\n        <td class=\"text-xs-center\">{{ props.item.update_time }}</td>\r\n        <td class=\"text-xs-center\">\r\n          <a-switch\r\n            v-model=\"props.item.status\"\r\n            :checkedChildren=\"$t('Sys.enable')\"\r\n            :unCheckedChildren=\"$t('Sys.disable')\"\r\n            @change=\"setState(props)\"\r\n          ></a-switch>\r\n        </td>\r\n        <td class=\"text-xs-center\">\r\n          <a-tag color=\"#108ee9\" @click=\"editUser(props)\">{{\r\n            $t(\"Sys.edit\")\r\n          }}</a-tag>\r\n          <a-popconfirm\r\n            placement=\"topLeft\"\r\n            :okText=\"$t('Sys.yes')\"\r\n            :cancelText=\"$t('Sys.no')\"\r\n            @confirm=\"resetPwd(props)\"\r\n          >\r\n            <template slot=\"title\">\r\n              <p>{{ $t(\"Sys.resetPwdMsg\") }}</p>\r\n            </template>\r\n            <a-tag color=\"orange\">{{ $t(\"Sys.resetPwd\") }}</a-tag>\r\n          </a-popconfirm>\r\n        </td>\r\n      </template>\r\n    </v-data-table>\r\n    <v-dialog v-model=\"dialog\" persistent max-width=\"600px\">\r\n      <v-card ref=\"user\">\r\n        <v-card-title>\r\n          <span class=\"headline\">{{ $t(\"App.userProfile\") }}</span>\r\n        </v-card-title>\r\n        <v-card-text>\r\n          <v-container grid-list-md>\r\n            <v-layout wrap>\r\n              <v-flex xs12>\r\n                <v-text-field\r\n                  ref=\"nickname\"\r\n                  :label=\"$t('App.nickname') + '*'\"\r\n                  v-model=\"user.nickname\"\r\n                  :rules=\"[rules.required]\"\r\n                ></v-text-field>\r\n              </v-flex>\r\n              <v-flex xs12>\r\n                <v-text-field\r\n                  :label=\"$t('App.email') + '*'\"\r\n                  ref=\"email\"\r\n                  v-model=\"user.email\"\r\n                  type=\"email\"\r\n                  :rules=\"[rules.required]\"\r\n                ></v-text-field>\r\n              </v-flex>\r\n              <v-flex xs12>\r\n                <v-text-field\r\n                  :label=\"$t('App.phone') + '*'\"\r\n                  ref=\"phone\"\r\n                  v-model=\"user.phone\"\r\n                  type=\"phone\"\r\n                  :rules=\"[rules.required]\"\r\n                ></v-text-field>\r\n              </v-flex>\r\n              <v-flex xs12>\r\n                <v-autocomplete\r\n                  v-model=\"role_ids\"\r\n                  :items=\"roles\"\r\n                  item-text=\"role_name\"\r\n                  item-value=\"role_id\"\r\n                  :label=\"$t('App.role')\"\r\n                  chips\r\n                  clearable\r\n                  multiple\r\n                  deletable-chips\r\n                  required\r\n                ></v-autocomplete>\r\n              </v-flex>\r\n              <v-flex xs12>\r\n                <v-text-field\r\n                  :label=\"$t('App.identity') + '*'\"\r\n                  required\r\n                  v-if=\"isCreate\"\r\n                  :rules=\"[rules.required]\"\r\n                  ref=\"identity\"\r\n                  v-model=\"addUser.identity\"\r\n                ></v-text-field>\r\n              </v-flex>\r\n              <v-flex xs12>\r\n                <v-text-field\r\n                  :label=\"$t('App.credential') + '*'\"\r\n                  v-model=\"addUser.credential\"\r\n                  :rules=\"[\r\n                    rules.required,\r\n                    () => addUser.credential.length >= 8 || 'Min 8 characters'\r\n                  ]\"\r\n                  :append-icon=\"show ? 'visibility' : 'visibility_off'\"\r\n                  :type=\"show ? 'text' : 'password'\"\r\n                  v-if=\"isCreate\"\r\n                  ref=\"credential\"\r\n                  @click:append=\"show = !show\"\r\n                ></v-text-field>\r\n              </v-flex>\r\n            </v-layout>\r\n          </v-container>\r\n          <small>{{ $t(\"Sys.requireMsg\") }}</small>\r\n        </v-card-text>\r\n        <v-card-actions>\r\n          <v-spacer></v-spacer>\r\n          <v-btn color=\"blue darken-1\" flat @click=\"close\">{{\r\n            $t(\"Sys.close\")\r\n          }}</v-btn>\r\n          <v-btn color=\"blue darken-1\" flat @click=\"createOrUpdateUser\">{{\r\n            $t(\"Sys.save\")\r\n          }}</v-btn>\r\n        </v-card-actions>\r\n      </v-card>\r\n    </v-dialog>\r\n  </v-card>\r\n</template>\r\n<script>\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      search: \"\",\r\n      show: \"\",\r\n      dialog: false,\r\n      isCreate: false,\r\n      roles: [],\r\n      rules: {\r\n        required: value => !!value || \"Required.\"\r\n      },\r\n      role_ids: [],\r\n      user: {\r\n        nickname: \"\",\r\n        email: \"\",\r\n        phone: \"\"\r\n      },\r\n      addUser: {\r\n        identity: \"\",\r\n        credential: \"\"\r\n      },\r\n      desserts: []\r\n    };\r\n  },\r\n  computed: {\r\n    headers() {\r\n      return [\r\n        {\r\n          text: \"ID\",\r\n          align: \"center\",\r\n          value: \"uid\"\r\n        },\r\n        { text: this.$t(\"App.nickname\"), value: \"nickname\", align: \"center\" },\r\n        { text: this.$t(\"App.identity\"), value: \"login_name\", align: \"center\" },\r\n        { text: this.$t(\"App.phone\"), value: \"phone\", align: \"center\" },\r\n        { text: this.$t(\"App.email\"), value: \"email\", align: \"center\" },\r\n        {\r\n          text: this.$t(\"Sys.createTime\"),\r\n          value: \"create_time\",\r\n          align: \"center\"\r\n        },\r\n        {\r\n          text: this.$t(\"Sys.updateTime\"),\r\n          value: \"update_time\",\r\n          align: \"center\"\r\n        },\r\n        { text: this.$t(\"App.userStatus\"), value: \"status\", align: \"center\" },\r\n        { text: this.$t(\"Sys.operation\"), sortable: false, align: \"center\" }\r\n      ];\r\n    }\r\n  },\r\n  methods: {\r\n    init() {\r\n      axios.all([this.$api.user.get(), this.$api.role.get()]).then(\r\n        axios.spread((users, roles) => {\r\n          this.$data.desserts = users.data.map(v => {\r\n            v.status = !!v.status;\r\n            return v;\r\n          });\r\n          this.$data.roles = roles.data;\r\n        })\r\n      );\r\n    },\r\n    setState(props) {\r\n      let status = props.item.status ? 1 : 0;\r\n      this.$api.user.setState(props.item.uid, status).then(() => {\r\n        this.$notify.success(\"edit success\", { timeout: 500 });\r\n      });\r\n    },\r\n    editUser(props) {\r\n      this.$api.user.getUserById(props.item.uid).then(data => {\r\n        this.$data.user = data.data;\r\n        this.$data.role_ids = data.data.role_ids;\r\n        this.$data.dialog = true;\r\n      });\r\n    },\r\n    resetPwd(props) {\r\n      this.$api.user.resetPwd(props.item.uid).then(() => {\r\n        this.$notify.success(\"reset password success\", { timeout: 500 });\r\n      });\r\n    },\r\n    createOrUpdateUser() {\r\n      this.$data.user.role_ids = this.$data.role_ids.join(\",\");\r\n      if (this.$data.isCreate) {\r\n        let userInfo = Object.assign({}, this.$data.user, this.$data.addUser);\r\n        this.$api.user.createUser(userInfo).then(() => {\r\n          this.$data.isCreate = false;\r\n          this.$api.user.get().then(data => {\r\n            this.$data.desserts = data.data;\r\n          });\r\n          this.$notify.success(\"create success\", { timeout: 500 });\r\n        });\r\n      } else {\r\n        this.$api.user\r\n          .editUser(this.$data.user.uid, this.$data.user)\r\n          .then(() => {\r\n            this.$notify.success(\"edit success\", { timeout: 500 });\r\n          });\r\n      }\r\n      this.dialog = false;\r\n    },\r\n    createUser() {\r\n      let form = [\"nickname\", \"email\", \"phone\"];\r\n      Object.keys(this.$data.user).forEach(f => {\r\n        if (0 <= form.indexOf(f)) {\r\n          this.$refs[f].reset();\r\n        }\r\n      });\r\n      this.$data.role_ids = [];\r\n      this.$data.isCreate = true;\r\n      this.$data.dialog = true;\r\n    },\r\n    close() {\r\n      if (this.$data.isCreate) {\r\n        this.$data.isCreate = false;\r\n      }\r\n      this.$data.dialog = false;\r\n    }\r\n  },\r\n  created() {\r\n    this.init();\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./User.vue?vue&type=template&id=78962e1b&\"\nimport script from \"./User.vue?vue&type=script&lang=js&\"\nexport * from \"./User.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!f:/nodejs/admin/node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAutocomplete } from 'vuetify/lib'\nimport { VBtn } from 'vuetify/lib'\nimport { VCard } from 'vuetify/lib'\nimport { VCardActions } from 'vuetify/lib'\nimport { VCardText } from 'vuetify/lib'\nimport { VCardTitle } from 'vuetify/lib'\nimport { VContainer } from 'vuetify/lib'\nimport { VDataTable } from 'vuetify/lib'\nimport { VDialog } from 'vuetify/lib'\nimport { VFlex } from 'vuetify/lib'\nimport { VLayout } from 'vuetify/lib'\nimport { VSpacer } from 'vuetify/lib'\nimport { VTextField } from 'vuetify/lib'\nimport { VToolbar } from 'vuetify/lib'\nimport { VToolbarTitle } from 'vuetify/lib'\ninstallComponents(component, {VAutocomplete,VBtn,VCard,VCardActions,VCardText,VCardTitle,VContainer,VDataTable,VDialog,VFlex,VLayout,VSpacer,VTextField,VToolbar,VToolbarTitle})\n"],"sourceRoot":""}